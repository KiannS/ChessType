<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChessType - Discover Your Playing Style</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ôüÔ∏è ChessType</h1>
            <p class="tagline">Discover your chess personality with AI</p>
        </header>

        <main>
            <!-- Input Form -->
            <div class="card" id="input-section">
                <h2>Analyze Your Games</h2>
                
                <form id="analysis-form">
                    <div class="form-group">
                        <label>Platform</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="platform" value="lichess" checked>
                                <span>Lichess</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="platform" value="chesscom">
                                <span>Chess.com</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="username">Username</label>
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            placeholder="Enter your username"
                            required
                        >
                    </div>

                    <div class="form-group" id="chesscom-dates" style="display: none;">
                        <label for="year">Month to Analyze</label>
                        <div class="date-inputs">
                            <select id="year" name="year">
                                <option value="2025">2025</option>
                                <option value="2024" selected>2024</option>
                                <option value="2023">2023</option>
                            </select>
                            <select id="month" name="month">
                                <option value="1" selected>January</option>
                                <option value="2">February</option>
                                <option value="3">March</option>
                                <option value="4">April</option>
                                <option value="5">May</option>
                                <option value="6">June</option>
                                <option value="7">July</option>
                                <option value="8">August</option>
                                <option value="9">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="max-games">Number of Games to Analyze</label>
                        <input 
                            type="number" 
                            id="max-games" 
                            name="max_games" 
                            value="50" 
                            min="10" 
                            max="100"
                        >
                        <small>More games = more accurate analysis (10-100)</small>
                    </div>

                    <button type="submit" class="btn-primary" id="analyze-btn">
                        Analyze My Games
                    </button>
                </form>
            </div>

            <!-- Loading State -->
            <div class="card" id="loading-section" style="display: none;">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Analyzing your games...</p>
                    <small>This may take 10-30 seconds</small>
                </div>
            </div>

            <!-- Results -->
            <div id="results-section" style="display: none;">
                <!-- Style Analysis -->
                <div class="card">
                    <h2>Your Playing Style</h2>
                    <div class="style-result">
                        <div class="style-main">
                            <span class="style-badge" id="style-badge"></span>
                            <span class="confidence" id="confidence"></span>
                        </div>
                        <p class="description" id="description"></p>
                        
                        <div class="strengths-weaknesses">
                            <div>
                                <h3>üí™ Your Strengths</h3>
                                <ul id="strengths-list"></ul>
                            </div>
                        </div>

                        <div class="similar-players">
                            <h3>üë§ You Play Like</h3>
                            <p id="famous-players"></p>
                        </div>
                    </div>
                </div>

                <!-- Position Analysis -->
                <div class="card">
                    <h2>Position Type Performance</h2>
                    <div id="position-performance"></div>
                </div>

                <!-- Recommendations -->
                <div class="card">
                    <h2>Personalized Recommendations</h2>
                    
                    <div class="recommendations">
                        <div class="recommendation-section">
                            <h3>üìö Recommended Openings</h3>
                            <ul id="openings-list"></ul>
                        </div>

                        <div class="recommendation-section">
                            <h3>üí° Training Tips</h3>
                            <ul id="tips-list"></ul>
                        </div>

                        <div class="recommendation-section">
                            <h3>üéØ Focus Areas</h3>
                            <ul id="focus-list"></ul>
                        </div>
                    </div>
                </div>

                <!-- Statistics -->
                <div class="card">
                    <h2>Game Statistics</h2>
                    <div class="stats-grid" id="stats-grid"></div>
                </div>

                <!-- Analyze Again Button -->
                <button class="btn-secondary" onclick="resetForm()">
                    Analyze Another Player
                </button>
            </div>

            <!-- Error State -->
            <div class="card error-card" id="error-section" style="display: none;">
                <h2>‚ùå Error</h2>
                <p id="error-message"></p>
                <button class="btn-secondary" onclick="resetForm()">Try Again</button>
            </div>
        </main>

        <footer>
            <p>Powered by Machine Learning ‚Ä¢ Built with Flask & scikit-learn</p>
            <p><small>ChessType analyzes your publicly available games to determine your playing style</small></p>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>